<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>Blog 3 :: Báo cáo thực tập</title>
<link href=../../../css/nucleus.css?1765289774 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765289774 rel=stylesheet><link href=../../../css/hybrid.css?1765289774 rel=stylesheet><link href=../../../css/featherlight.min.css?1765289774 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765289774 rel=stylesheet><link href=../../../css/auto-complete.css?1765289774 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765289774 rel=stylesheet><link href=../../../css/theme.css?1765289774 rel=stylesheet><link href=../../../css/hugo-theme.css?1765289774 rel=stylesheet><link href=../../../css/theme-workshop.css?1765289774 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765289774></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765289774></script><script type=text/javascript src=../../../js/auto-complete.js?1765289774></script><script type=text/javascript>var baseurl="https://rinnn465.github.io/aws-workshop//vi"</script><script type=text/javascript src=../../../js/search.js?1765289774></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.01-week1/ title="Worklog Tuần 1" class=dd-item><a href=../../../vi/1-worklog/1.01-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.02-week2/ title="Worklog Tuần 2" class=dd-item><a href=../../../vi/1-worklog/1.02-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.03-week3/ title="Worklog Tuần 3" class=dd-item><a href=../../../vi/1-worklog/1.03-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.04-week4/ title="Worklog Tuần 4" class=dd-item><a href=../../../vi/1-worklog/1.04-week4/><b>1.4. </b>Worklog Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.05-week5/ title="Worklog Tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.05-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.06-week6/ title="Worklog Tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.06-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.07-week7/ title="Worklog Tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.07-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.08-week8/ title="Worklog Tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.08-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.09-week9/ title="Worklog Tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.09-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class=dd-item><a href=../../../vi/1-worklog/1.12-week12/><b>1.12 </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.13-week13/ title="Worklog Tuần 13" class=dd-item><a href=../../../vi/1-worklog/1.13-week13/><b>1.13 </b>Worklog Tuần 13
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=../../../vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="Blog 2" class=dd-item><a href=../../../vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="Blog 3" class="dd-item
active"><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.4-blog4/ title="Blog 4" class=dd-item><a href=../../../vi/3-blogstranslated/3.4-blog4/><b>3.4. </b>Blog 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.5-blog5/ title="Blog 5" class=dd-item><a href=../../../vi/3-blogstranslated/3.5-blog5/><b>3.6. </b>Blog 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.6-blog6/ title="Blog 6" class=dd-item><a href=../../../vi/3-blogstranslated/3.6-blog6/><b>3.6. </b>Blog 6
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../../vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=../../../vi/4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=../../../vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-enablebedrockmodels/ title="Kích hoạt Bedrock Models" class=dd-item><a href=../../../vi/5-workshop/5.3-enablebedrockmodels/><b>5.3. </b>Kích hoạt Bedrock Models
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-configureawscli/ title="Cấu hình AWS CLI" class=dd-item><a href=../../../vi/5-workshop/5.4-configureawscli/><b>5.4. </b>Cấu hình AWS CLI
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.5-preparedata/ title="Chuẩn bị Dữ liệu" class=dd-item><a href=../../../vi/5-workshop/5.5-preparedata/><b>5.5. </b>Chuẩn bị Dữ liệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-deploysolution/ title="Triển khai Giải pháp" class=dd-item><a href=../../../vi/5-workshop/5.6-deploysolution/><b>5.6. </b>Triển khai Giải pháp
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.7-setupmessengerbot/ title="Thiết lập Messenger Bot" class=dd-item><a href=../../../vi/5-workshop/5.7-setupmessengerbot/><b>5.7. </b>Thiết lập Messenger Bot
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-setupadmindashboard/ title="Thiết lập Admin Dashboard" class=dd-item><a href=../../../vi/5-workshop/5.8-setupadmindashboard/><b>5.8. </b>Thiết lập Admin Dashboard
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.9-usingchatbot/ title="Sử dụng Chatbot" class=dd-item><a href=../../../vi/5-workshop/5.9-usingchatbot/><b>5.9. </b>Sử dụng Chatbot
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.10-usingadmindashboard/ title="Sử dụng Admin Dashboard" class=dd-item><a href=../../../vi/5-workshop/5.10-usingadmindashboard/><b>5.10. </b>Sử dụng Admin Dashboard
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.11-usingconsultantportal/ title="Sử dụng Consultant Portal" class=dd-item><a href=../../../vi/5-workshop/5.11-usingconsultantportal/><b>5.11. </b>Sử dụng Consultant Portal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.12-cleanup/ title="Dọn dẹp Tài nguyên" class=dd-item><a href=../../../vi/5-workshop/5.12-cleanup/><b>5.12. </b>Dọn dẹp Tài nguyên
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://rinnn465.github.io/aws-workshop/3-blogstranslated/3.3-blog3/>English</option><option id=vi value=https://rinnn465.github.io/aws-workshop/vi/3-blogstranslated/3.3-blog3/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Blog 3</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#use-case><strong>Use Case</strong></a></li><li><a href=#tổng-quan-về-giải-pháp><strong>Tổng quan về Giải pháp</strong></a><ul><li><a href=#thực-thi-text-to-sql-với-khả-năng-tự-động-khắc-phục-sự-cố><strong>Thực thi Text-to-SQL với Khả năng Tự động Khắc phục Sự cố:</strong></a></li><li><a href=#khám-phá-sơ-đồ-dữ-liệu-động><strong>Khám phá Sơ đồ Dữ liệu Động:</strong></a></li></ul></li><li><a href=#hướng-dẫn-triển-khai><strong>Hướng dẫn Triển khai</strong></a><ul><li><a href=#xử-lý-lỗi-thông-minh><strong>Xử lý Lỗi Thông minh</strong></a></li><li><a href=#agent-instructions><strong>Agent Instructions</strong></a></li></ul></li><li><a href=#chi-tiết-triển-khai><strong>Chi tiết Triển khai</strong></a></li><li><a href=#khám-phá-sơ-đồ-dữ-liệu-động-1><strong>Khám phá Sơ đồ Dữ liệu Động</strong></a><ul><li><a href=#hướng-dẫn-cho-agent><strong>Hướng dẫn cho agent</strong></a></li></ul></li><li><a href=#chi-tiết-triển-khai-1><strong>Chi tiết Triển khai</strong></a></li><li><a href=#demonstration><strong>Demonstration</strong></a></li><li><a href=#các-ví-dụ-thực-tiễn><strong>Các ví dụ thực tiễn</strong></a></li><li><a href=#kết-luận><strong>Kết luận</strong></a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 3</h1><h1 id=workload-text-to-sql-linh-hoạt-cho-doanh-nghiệp-bằng-amazon-bedrock-agent>Workload Text-to-SQL linh hoạt cho doanh nghiệp bằng Amazon Bedrock Agent</h1><p>Tác giả: Jiwon Yeom và Jimin Kim | Ngày 14 Tháng 4, 2025 | <a href=https://aws.amazon.com/blogs/machine-learning/category/artificial-intelligence/amazon-machine-learning/amazon-bedrock/>Amazon Bedrock</a>, <a href=https://aws.amazon.com/blogs/machine-learning/category/artificial-intelligence/amazon-machine-learning/amazon-bedrock/amazon-bedrock-agents/>Amazon Bedrock Agents</a>, <a href=https://aws.amazon.com/blogs/machine-learning/category/post-types/best-practices/>Best Practices</a>, <a href=https://aws.amazon.com/blogs/machine-learning/category/artificial-intelligence/generative-ai/>Generative AI</a>, <a href=https://aws.amazon.com/blogs/machine-learning/category/post-types/technical-how-to/>Technical How-to</a>, <a href=https://aws.amazon.com/blogs/machine-learning/category/post-types/thought-leadership/>Thought Leadership</a> | <a href=https://aws.amazon.com/blogs/machine-learning/dynamic-text-to-sql-for-enterprise-workloads-with-amazon-bedrock-agents/>Permalink</a> | <a href=https://aws.amazon.com/blogs/machine-learning/dynamic-text-to-sql-for-enterprise-workloads-with-amazon-bedrock-agents/#Comments>Comments</a> | <a href=https://aws.amazon.com/blogs/machine-learning/dynamic-text-to-sql-for-enterprise-workloads-with-amazon-bedrock-agents/>Share</a></p><p>Trí tuệ nhân tạo tạo sinh (<a href=https://aws.amazon.com/generative-ai/><strong>Generative AI</strong></a>) cho phép chúng ta hoàn thành nhiều việc hơn trong thời gian ngắn hơn. Công nghệ <strong>Text-to-SQL</strong> (Chuyển văn bản thành câu lệnh SQL) trao quyền cho mọi người khám phá dữ liệu và rút ra thông tin chi tiết bằng ngôn ngữ tự nhiên, mà không cần kiến thức chuyên sâu về cơ sở dữ liệu. <a href=https://aws.amazon.com/>Amazon Web Services</a> <strong>(AWS)</strong> đã giúp nhiều khách hàng kết nối khả năng Text-to-SQL này với dữ liệu riêng của họ, nghĩa là sẽ có nhiều nhân viên hơn có thể tạo ra các thông tin chuyên sâu.</p><p>Trong quá trình này, chúng tôi nhận thấy cần có một cách tiếp cận khác trong các môi trường doanh nghiệp có hơn 100 bảng, mỗi bảng có hàng chục cột. Chúng tôi cũng nhận thấy rằng, việc xử lý lỗi mạnh mẽ là cực kỳ quan trọng khi xảy ra lỗi trong truy vấn SQL được tạo ra dựa trên câu hỏi của người dùng.</p><p>Bài viết này trình bày cách các doanh nghiệp có thể triển khai một giải pháp Text-to-SQL dạng agentic có khả năng mở rộng bằng cách sử dụng <a href=https://aws.amazon.com/bedrock/agents/><strong>Amazon Bedrock Agents</strong></a>, với các công cụ xử lý lỗi nâng cao và tính năng khám phá sơ đồ dữ liệu tự động để tăng cường hiệu quả truy vấn cơ sở dữ liệu.</p><p>Giải pháp dựa trên agent của chúng tôi mang lại hai thế mạnh chính:</p><ol><li><strong>Khám phá sơ đồ dữ liệu tự động có khả năng mở rộng</strong> – Sơ đồ và siêu dữ liệu bảng có thể được cập nhật động để tạo lại câu lệnh SQL khi lần thực thi truy vấn ban đầu thất bại. Điều này rất quan trọng đối với các khách hàng doanh nghiệp có nhiều bảng, nhiều cột và nhiều mẫu truy vấn.</li><li><strong>Xử lý lỗi tự động</strong> – Thông báo lỗi được đưa trực tiếp trở lại agent (agent) để cải thiện tỷ lệ thành công khi chạy các truy vấn.</li></ol><p>Bạn sẽ thấy rằng những tính năng này giúp bạn giải quyết các thách thức về cơ sở dữ liệu quy mô doanh nghiệp, đồng thời làm cho trải nghiệm Text-to-SQL của bạn trở nên mạnh mẽ và hiệu quả hơn.</p><h2 id=use-case><strong>Use Case</strong></h2><p>Một giải pháp Text-to-SQL dạng agentic có thể mang lại lợi ích cho các doanh nghiệp có cấu trúc dữ liệu phức tạp. Trong bài đăng này, để hiểu rõ cơ chế và lợi ích của giải pháp Text-to-SQL dạng agentic trong môi trường doanh nghiệp phức tạp, hãy tưởng tượng bạn là một chuyên viên phân tích nghiệp vụ thuộc đội quản lý rủi ro tại một ngân hàng.</p><p>Bạn cần trả lời các câu hỏi như: &ldquo;Tìm tất cả các giao dịch xảy ra ở Hoa Kỳ và bị đánh dấu là gian lận, cùng với thông tin thiết bị được sử dụng cho các giao dịch đó,&rdquo; hoặc &ldquo;Truy xuất tất cả giao dịch của John Doe xảy ra từ ngày 1 tháng 1 năm 2023 đến ngày 31 tháng 12 năm 2023, bao gồm cả dấu hiệu gian lận và chi tiết về người bán.&rdquo;</p><p>Để làm được điều này, bạn cần phải nhận biết và xử lý hàng chục—hoặc đôi khi hàng trăm—bảng, đồng thời phải tạo ra các truy vấn <strong>JOIN phức tạp</strong>. Sơ đồ sau minh họa một sơ đồ bảng mẫu có thể cần thiết cho các cuộc điều tra về việc gian lận.</p><p><img alt="Sơ đồ cơ sở dữ liệu mẫu cho phát hiện gian lận" src=../../../images/3-BlogsTranslated/Blog3/image1.jpg></p><p>Những điều khó khăn chính khi triển khai giải pháp Text-to-SQL trong môi trường phức tạp này bao gồm, nhưng không giới hạn ở:</p><ol><li>Số lượng thông tin bảng và sơ đồ dữ liệu sẽ trở nên quá lớn, điều này đòi hỏi phải cập nhật thủ công các câu lệnh (prompts) và làm hạn chế khả năng mở rộng của giải pháp.</li><li>Do đó, giải pháp có thể cần phải xác thực bổ sung, làm ảnh hưởng đến chất lượng và hiệu suất của việc tạo câu lệnh SQL.</li></ol><h2 id=tổng-quan-về-giải-pháp><strong>Tổng quan về Giải pháp</strong></h2><p>Amazon Bedrock Agents quản lý toàn bộ quá trình một cách liền mạch, từ việc diễn giải câu hỏi đến thực thi truy vấn và giải thích kết quả, mà không cần can thiệp thủ công. Nó tích hợp nhiều công cụ một cách liền mạch, và agent sẽ phân tích và phản hồi các kết quả không mong muốn. Khi các truy vấn thất bại, agent sẽ tự động phân tích thông báo lỗi, sửa đổi truy vấn và thử lại – đây là một lợi ích then chốt so với các hệ thống tĩnh.</p><p>Kể từ tháng 12 năm 2024, tính năng <a href=https://aws.amazon.com/about-aws/whats-new/2024/12/amazon-bedrock-knowledge-bases-structured-data-retrieval/>Amazon Bedrock</a> với dữ liệu có cấu trúc cung cấp hỗ trợ tích hợp cho Amazon Redshift, mang lại khả năng Text-to-SQL liền mạch mà không cần triển khai tùy chỉnh. Đây được khuyến nghị là giải pháp chính cho người dùng <a href=https://aws.amazon.com/redshift/>Amazon Redshift</a>.</p><p>Dưới đây là các khả năng mà giải pháp này mang lại:</p><h3 id=thực-thi-text-to-sql-với-khả-năng-tự-động-khắc-phục-sự-cố><strong>Thực thi Text-to-SQL với Khả năng Tự động Khắc phục Sự cố:</strong></h3><ol><li>Agent có thể diễn giải các câu hỏi bằng ngôn ngữ tự nhiên và chuyển chúng thành các truy vấn SQL. Sau đó, nó thực thi các truy vấn này đối với cơ sở dữ liệu <a href=https://aws.amazon.com/athena/>Amazon Athena</a> và trả về kết quả.</li><li>Nếu việc thực thi truy vấn thất bại, agent có thể phân tích các thông báo lỗi được trả về bởi <a href=https://aws.amazon.com/lambda/>AWS Lambda</a> và tự động thử lại truy vấn đã được sửa đổi khi thích hợp.</li></ol><h3 id=khám-phá-sơ-đồ-dữ-liệu-động><strong>Khám phá Sơ đồ Dữ liệu Động:</strong></h3><ol><li>Liệt kê các bảng: Agent có thể cung cấp danh sách đầy đủ các bảng trong cơ sở dữ liệu phát hiện gian lận. Điều này giúp người dùng hiểu rõ các cấu trúc dữ liệu có sẵn.</li><li>Mô tả sơ đồ bảng: Người dùng có thể yêu cầu thông tin chi tiết về sơ đồ của các bảng cụ thể. Agent sẽ cung cấp tên cột, kiểu dữ liệu và các bình luận liên quan, giúp người dùng hiểu rõ cấu trúc dữ liệu.</li></ol><p>Giải pháp này sử dụng các công cụ cơ sở dữ liệu trực tiếp để khám phá sơ đồ thay vì truy xuất dựa trên kho vector hoặc các định nghĩa sơ đồ tĩnh. Cách tiếp cận này cung cấp độ chính xác hoàn toàn với chi phí vận hành thấp hơn vì nó không yêu cầu cơ chế đồng bộ hóa và phản ánh liên tục cấu trúc cơ sở dữ liệu hiện tại. Truy cập trực tiếp sơ đồ thông qua các công cụ dễ bảo trì hơn so với các phương pháp mã hóa cứng (hardcoded) đòi hỏi cập nhật thủ công, và nó mang lại hiệu suất và hiệu quả chi phí tốt hơn thông qua tương tác cơ sở dữ liệu theo thời gian thực.</p><p>Workflow diễn ra như sau:</p><ol><li>Người dùng đặt câu hỏi cho <strong>Amazon Bedrock Agents</strong>.</li><li>Để phục vụ câu hỏi của người dùng, agent xác định hành động thích hợp để gọi:<ul><li>Để thực thi truy vấn đã tạo một cách tự tin, agent sẽ gọi công cụ <strong>athena-query</strong>.</li><li>Để xác nhận sơ đồ cơ sở dữ liệu trước, agent sẽ gọi công cụ <strong>athena-schema-reader</strong>:<ul><li>Truy xuất danh sách các bảng có sẵn bằng điểm cuối <code>/list_tables</code> của nó.</li><li>Lấy sơ đồ cụ thể của một bảng nhất định bằng điểm cuối <code>/describe_table</code> của nó.</li></ul></li></ul></li><li><strong>Lambda</strong> gửi truy vấn đến <strong>Athena</strong> để thực thi.</li><li><strong>Athena</strong> truy vấn dữ liệu từ <strong>bucket dữ liệu <a href=https://aws.amazon.com/s3/>Amazon Simple Storage Service (Amazon S3)</a></strong> và lưu trữ kết quả truy vấn trong bucket đầu ra của S3.</li><li><strong>Lambda</strong> truy xuất và xử lý kết quả. Nếu xảy ra lỗi:<ul><li>Lambda bắt và định dạng thông báo lỗi để agent hiểu được.</li><li>Thông báo lỗi được trả về cho <strong>Amazon Bedrock Agents</strong>.</li></ul></li><li>Agent phân tích thông báo lỗi và cố gắng giải quyết. Để thử lại với truy vấn đã sửa đổi, agent có thể lặp lại các bước 2–5.</li><li>Agent định dạng và trình bày phản hồi cuối cùng cho người dùng.</li></ol><p>Sơ đồ kiến trúc sau đây cho thấy workflow này:</p><p><img alt="Sơ đồ kiến trúc giải pháp" src=../../../images/3-BlogsTranslated/Blog3/image2.png></p><h2 id=hướng-dẫn-triển-khai><strong>Hướng dẫn Triển khai</strong></h2><p>Để triển khai giải pháp, hãy sử dụng các hướng dẫn trong các phần sau.</p><h3 id=xử-lý-lỗi-thông-minh><strong>Xử lý Lỗi Thông minh</strong></h3><p>Giải pháp Text-to-SQL dạng agentic của chúng tôi triển khai tính năng xử lý lỗi thực tế giúp các agent hiểu và phục hồi sau các sự cố. Bằng cách cấu trúc hóa các lỗi với các yếu tố nhất quán, trả về các lỗi không gây gián đoạn nếu có thể, và cung cấp các gợi ý theo ngữ cảnh, hệ thống cho phép các agent tự điều chỉnh và tiếp tục quá trình suy luận của chúng.</p><h3 id=agent-instructions><strong>Agent Instructions</strong></h3><p>Hãy xem xét các thành phần câu lệnh (prompt components) chính làm cho giải pháp này trở nên độc đáo. Xử lý lỗi thông minh giúp tự động hóa việc khắc phục sự cố và tinh chỉnh truy vấn bằng cách cho agent hiểu loại lỗi và cần làm gì khi lỗi xảy ra:</p><p><strong>Execution and Error Handling:</strong></p><ul><li>Execute the query via the /athena_query endpoint</li><li>If the execution fails, carefully analyze the error message and hint provided by the Lambda function</li><li>Based on the error type received from the Lambda function, take appropriate action:</li><li>After identifying the issue based on the error message and hint:<ol><li>Modify your query or API request to address the specific problem</li><li>If needed, use schema discovery tools (/list_tables, /describe_table) to gather updated information</li><li>Reconstruct the query with the necessary corrections</li><li>Retry the execution with the modified query or request</li></ol></li></ul><p>Câu lệnh (prompt) đưa ra hướng dẫn về cách tiếp cận các lỗi. Nó cũng nêu rõ rằng các loại lỗi và gợi ý sẽ được cung cấp bởi Lambda. Trong phần tiếp theo, chúng tôi sẽ giải thích cách Lambda xử lý các lỗi và truyền chúng cho agent.</p><h2 id=chi-tiết-triển-khai><strong>Chi tiết Triển khai</strong></h2><p>Dưới đây là một số ví dụ chính từ hệ thống xử lý lỗi của chúng tôi:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ERROR_MESSAGES <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;QUERY_EXECUTION_FAILED&#39;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;message&#39;</span>: <span style=color:#e6db74>&#39;Failed to execute query&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;hint&#39;</span>: <span style=color:#e6db74>&#39;Please use fully qualified table names. Example: SELECT * FROM fraud_data.customers LIMIT 1&#39;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;QUERY_RESULT_ERROR&#39;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;message&#39;</span>: <span style=color:#e6db74>&#39;Error occurred while getting query results&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;hint&#39;</span>: <span style=color:#e6db74>&#39;Check if the tables and columns in your query exist and you have proper permissions. Examples: &#34;customers&#34;, &#34;transactions&#34;, or &#34;devices&#34;.&#39;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;MISSING_QUERY&#39;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;message&#39;</span>: <span style=color:#e6db74>&#39;Query is required&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;hint&#39;</span>: <span style=color:#e6db74>&#39;No query was provided. Please provide a SQL query to execute&#39;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_query_response</span>(query_result, status_code<span style=color:#f92672>=</span><span style=color:#ae81ff>200</span>):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> query_result<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;error&#39;</span>):
</span></span><span style=display:flex><span>        error_info <span style=color:#f92672>=</span> ERROR_MESSAGES<span style=color:#f92672>.</span>get(query_result[<span style=color:#e6db74>&#39;error&#39;</span>])
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;error&#39;</span>: query_result[<span style=color:#e6db74>&#39;error&#39;</span>],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;message&#39;</span>: error_info[<span style=color:#e6db74>&#39;message&#39;</span>],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;hint&#39;</span>: error_info[<span style=color:#e6db74>&#39;hint&#39;</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> query_result
</span></span></code></pre></div><p>Các loại lỗi này bao quát các tình huống chính trong tương tác Text-to-SQL:</p><ol><li><strong>Lỗi thực thi truy vấn:</strong> Xử lý lỗi cú pháp và các vấn đề về tham chiếu bảng, hướng dẫn agent sử dụng đúng tên bảng và cú pháp SQL.</li><li><strong>Vấn đề truy xuất kết quả:</strong> Giải quyết các vấn đề về quyền hạn và tham chiếu cột không hợp lệ, giúp agent xác minh sơ đồ và quyền truy cập.</li><li><strong>Xác thực API:</strong> Xác minh rằng các yêu cầu cơ bản được đáp ứng trước khi thực thi truy vấn, giảm thiểu các lệnh gọi API không cần thiết.</li></ol><p>Mỗi loại lỗi đều bao gồm cả thông báo giải thích và gợi ý hành động, cho phép agent thực hiện các bước điều chỉnh phù hợp. Việc triển khai này cho thấy việc kích hoạt xử lý lỗi thông minh có thể đơn giản như thế nào; thay vì xử lý lỗi theo cách truyền thống trong Lambda, chúng tôi trả về các thông báo lỗi có cấu trúc mà agent có thể hiểu và hành động theo.</p><h2 id=khám-phá-sơ-đồ-dữ-liệu-động-1><strong>Khám phá Sơ đồ Dữ liệu Động</strong></h2><p>Khám phá sơ đồ dữ liệu là cột mốc để giữ cho Amazon Bedrock Agents tiếp nhận được thông tin sơ đồ mới nhất và phù hợp nhất.</p><h3 id=hướng-dẫn-cho-agent><strong>Hướng dẫn cho agent</strong></h3><p>Thay vì thông tin sơ đồ cơ sở dữ liệu được hardcoded, chúng tôi cho phép agent khám phá sơ đồ cơ sở dữ liệu một cách động. Chúng tôi đã tạo ra hai API endpoints cho mục đích này:</p><p><strong>Schema Discovery:</strong></p><ul><li>Use /list_tables endpoint to identify available tables in the database</li><li>Use /describe_table endpoint to get detailed schema information for specific tables</li><li>Always use the most recent and relevant table schemas, as the database structure may change frequently</li><li>Before constructing queries, ensure you have up-to-date schema information</li></ul><h2 id=chi-tiết-triển-khai-1><strong>Chi tiết Triển khai</strong></h2><p>Dựa trên hướng dẫn của agent, agent sẽ gọi API endpoint thích hợp.</p><p>Endpoint <code>/list_tables</code> liệt kê các bảng trong một cơ sở dữ liệu được chỉ định. Điều này đặc biệt hữu ích khi bạn có nhiều cơ sở dữ liệu hoặc thường xuyên thêm các bảng mới:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#a6e22e>@app.post</span>(<span style=color:#e6db74>&#34;/list_tables&#34;</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Retrieve a list of all tables in the specified database&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>list_tables</span>(event, database_name):
</span></span><span style=display:flex><span>    query <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;SHOW TABLES IN </span><span style=color:#e6db74>{</span>database_name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> execute_and_get_results(query, s3_output)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> isinstance(result, dict) <span style=color:#f92672>and</span> <span style=color:#e6db74>&#39;error&#39;</span> <span style=color:#f92672>in</span> result:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> create_api_response(event, <span style=color:#ae81ff>400</span>, get_error_response(<span style=color:#e6db74>&#39;QUERY_RESULT_ERROR&#39;</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> create_api_response(event, <span style=color:#ae81ff>200</span>, result)
</span></span></code></pre></div><p>Endpoint <code>/describe_table</code> đọc sơ đồ của một bảng cụ thể kèm theo các chi tiết. Chúng tôi sử dụng lệnh &ldquo;DESCRIBE&rdquo;, bao gồm các ghi chú cột (column comments) cùng với các chi tiết sơ đồ khác. Những ghi chú này giúp agent hiểu rõ hơn về ý nghĩa của từng cột:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#a6e22e>@app.post</span>(<span style=color:#e6db74>&#34;/describe_table&#34;</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Retrieve the schema information of a specific table&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>describe_table</span>(event, database_name, table_name):
</span></span><span style=display:flex><span>    query <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;DESCRIBE </span><span style=color:#e6db74>{</span>database_name<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>{</span>table_name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> execute_and_get_results(query, s3_output)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> isinstance(result, dict) <span style=color:#f92672>and</span> <span style=color:#e6db74>&#39;error&#39;</span> <span style=color:#f92672>in</span> result:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> create_api_response(event, <span style=color:#ae81ff>400</span>, get_error_response(<span style=color:#e6db74>&#39;QUERY_RESULT_ERROR&#39;</span>))
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    formatted_result <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;table_name&#34;</span>: table_name,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;database&#34;</span>: database_name,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;columns&#34;</span>: result
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> create_api_response(event, <span style=color:#ae81ff>200</span>, formatted_result)
</span></span></code></pre></div><p>Khi triển khai bộ đọc sơ đồ dữ liệu động, hãy cân nhắc bao gồm các mô tả cột toàn diện để tăng cường khả năng hiểu của agent về mô hình dữ liệu.</p><p>Các API Endpoints này cho phép agent duy trì sự hiểu biết cập nhật về cấu trúc cơ sở dữ liệu, từ đó cải thiện khả năng tạo ra các truy vấn chính xác và thích ứng với những thay đổi trong sơ đồ.</p><h2 id=demonstration><strong>Demonstration</strong></h2><p>Bạn có thể không nhận được phản hồi chính xác như trong ảnh chụp màn hình được trình bày do tính chất không xác định của các <a href=https://aws.amazon.com/what-is/large-language-model/>mô hình ngôn ngữ lớn</a> (LLMs).</p><p>Giải pháp này đã có sẵn để bạn triển khai trong môi trường của mình với dữ liệu mẫu. Hãy clone kho lưu trữ từ <a href=https://github.com/aws-samples/sample-Dynamic-Text-to-SQL-with-Amazon-Bedrock-Agent>liên kết GitHub này</a> và làm theo hướng dẫn trong tệp README.</p><p>Sau khi bạn triển khai hai stack (<strong>AwsText2Sql-DbStack</strong> và <strong>AwsText2Sql-AgentStack),</strong> hãy làm theo các bước sau để đưa giải pháp vào hoạt động:</p><ol><li>Truy cập <a href=https://console.aws.amazon.com/bedrock>Amazon Bedrock</a> và chọn Agents.</li><li>Chọn AwsText-to-SQL-AgentStack-DynamicAgent và kiểm tra bằng cách đặt câu hỏi trong cửa sổ Test ở bên phải.</li><li>Ví dụ về các tương tác:<ul><li>Những nhóm nhân khẩu học hoặc ngành công nghiệp nào thường xuyên bị những kẻ gian lận nhắm đến nhất? Trình bày dữ liệu tổng hợp.</li><li>Những phương pháp hoặc kỹ thuật cụ thể nào thường được những kẻ phạm tội sử dụng trong các trường hợp gian lận đã được báo cáo?</li><li>Chúng ta có thể xác định được những mô hình hoặc xu hướng nào về thời gian và địa điểm xảy ra các sự cố gian lận?</li><li>Cho xem chi tiết của những khách hàng đã thực hiện giao dịch với các merchants nằm ở Denver.</li><li>Cung cấp một danh sách tất cả các người bán cùng với tổng số giao dịch họ đã xử lý và số lượng các giao dịch đó đã bị đánh dấu là gian lận.</li><li>Liệt kê năm khách hàng hàng đầu dựa trên số lượng giao dịch có giá trị cao nhất mà họ đã thực hiện.</li></ul></li></ol><p><img alt="Giao diện test Amazon Bedrock Agent" src=../../../images/3-BlogsTranslated/Blog3/image3.jpg></p><ol start=4><li>Hãy chọn &ldquo;Show trace&rdquo; (Hiển thị dấu vết) và kiểm tra từng bước để hiểu những công cụ nào được sử dụng và lý do của agent (agent) khi tiếp cận câu hỏi của bạn, như được minh họa trong ảnh chụp màn hình sau.</li></ol><p><img alt="Hiển thị trace của agent" src=../../../images/3-BlogsTranslated/Blog3/image4.jpg></p><ol start=5><li>(Tùy chọn) Bạn có thể kiểm tra <a href=https://docs.aws.amazon.com/bedrock/latest/userguide/agents-code-interpretation.html>trình thông dịch mã</a> của Amazon Bedrock Agents bằng cách bật tính năng này trong Cài đặt agent (Agent settings).</li></ol><p>Hãy làm theo hướng dẫn tại <a href=https://docs.aws.amazon.com/bedrock/latest/userguide/agents-enable-code-interpretation.html>Enable code interpretation in Amazon Bedrock</a> và hỏi agent: &ldquo;Tạo biểu đồ cột thể hiện ba thành phố hàng đầu có số vụ gian lận nhiều nhất.&rdquo;</p><p><img alt="Kết quả code interpretation với biểu đồ" src=../../../images/3-BlogsTranslated/Blog3/image5.jpg></p><h2 id=các-ví-dụ-thực-tiễn><strong>Các ví dụ thực tiễn</strong></h2><p>Dựa trên cuộc thảo luận của chúng ta về khám phá sơ đồ dữ liệu động và xử lý lỗi thông minh, dưới đây là các thực tiễn chính để tối ưu hóa giải pháp Text-to-SQL dạng agent của bạn:</p><ol><li><p><strong>Sử dụng Khám phá Sơ đồ Dữ liệu và Xử lý Lỗi Động:</strong> Sử dụng các điểm cuối như /list_tables và /describe_table để cho phép agent thích ứng linh hoạt với cấu trúc cơ sở dữ liệu của bạn. Triển khai tính năng xử lý lỗi toàn diện như đã trình bày trước đó, giúp agent diễn giải và phản hồi các loại lỗi khác nhau một cách hiệu quả.</p></li><li><p><strong>Cân bằng Thông tin Tĩnh và Động:</strong> Mặc dù khám phá động rất mạnh mẽ, hãy cân nhắc đưa các thông tin quan trọng, ổn định vào câu lệnh (prompt). Điều này có thể bao gồm tên cơ sở dữ liệu, các khoá quan hệ bảng, hoặc các bảng thường xuyên được sử dụng mà ít khi thay đổi. Đạt được sự cân bằng này có thể cải thiện hiệu suất mà không làm mất đi tính linh hoạt.</p></li><li><p><strong>Điều chỉnh cho phù hợp với Môi trường của bạn:</strong> Chúng tôi đã thiết kế ví dụ mẫu để luôn gọi /list_tables và /describe_table, nhưng việc triển khai của bạn có thể cần điều chỉnh. Hãy xem xét các khả năng và giới hạn của công cụ cơ sở dữ liệu cụ thể mà bạn sử dụng. Bạn có thể cần cung cấp thêm ngữ cảnh ngoài các ghi chú cột. Hãy cân nhắc bao gồm mô tả cơ sở dữ liệu, mối quan hệ giữa các bảng, hoặc các mẫu truy vấn phổ biến. Điều cốt yếu là cung cấp cho agent càng nhiều thông tin liên quan càng tốt về mô hình dữ liệu và ngữ cảnh kinh doanh của bạn, dù bằng siêu dữ liệu mở rộng, các điểm cuối tùy chỉnh hay hướng dẫn chi tiết.</p></li><li><p><strong>Triển khai Bảo vệ Dữ liệu Mạnh mẽ:</strong> Mặc dù giải pháp của chúng tôi sử dụng Athena (vốn không hỗ trợ các thao tác ghi), điều quan trọng là phải xem xét bảo vệ dữ liệu trong môi trường cụ thể của bạn. Bắt đầu với các hướng dẫn rõ ràng trong lời nhắc (ví dụ: &ldquo;chỉ các thao tác chỉ đọc&rdquo;), và cân nhắc các lớp bổ sung như <a href=https://aws.amazon.com/bedrock/guardrails/>Amazon Bedrock Guardrails</a> hoặc hệ thống đánh giá dựa trên LLM để đảm bảo các truy vấn được tạo ra tuân thủ các chính sách bảo mật của bạn.</p></li><li><p><strong>Triển khai Ủy quyền Phân lớp:</strong> Để tăng cường quyền riêng tư dữ liệu khi sử dụng Amazon Bedrock Agents, bạn có thể sử dụng các dịch vụ như Amazon Verified Permissions để xác thực quyền truy cập của người dùng trước khi agent xử lý dữ liệu nhạy cảm. Truyền thông tin danh tính người dùng, chẳng hạn như mã thông báo JWT, đến agent và hàm Lambda liên quan của nó, cho phép kiểm tra ủy quyền chi tiết dựa trên các chính sách được xây dựng sẵn. Bằng cách thực thi kiểm soát truy cập ở cấp độ ứng dụng dựa trên quyết định của <a href=https://aws.amazon.com/verified-permissions>Amazon Verified Permissions</a>, bạn có thể giảm thiểu việc tiết lộ dữ liệu ngoài ý muốn và duy trì sự cô lập dữ liệu mạnh mẽ. Để tìm hiểu thêm, hãy tham khảo bài viết &ldquo;<a href=https://aws.amazon.com/blogs/security/enhancing-data-privacy-with-layered-authorization-for-amazon-bedrock-agents/>Enhancing data privacy with layered authorization for Amazon Bedrock Agents</a>&rdquo; trên AWS Security Blog.</p></li><li><p><strong>Xác định Chiến lược Điều phối Tốt nhất cho agent của bạn:</strong> Amazon Bedrock cung cấp cho bạn tùy chọn tùy chỉnh chiến lược điều phối của agent. <a href=https://docs.aws.amazon.com/bedrock/latest/userguide/agents-custom-orchestration.html>Điều phối tùy chỉnh</a> cho phép bạn toàn quyền kiểm soát cách bạn muốn agent xử lý các tác vụ nhiều bước, đưa ra quyết định và thực thi quy trình làm việc.</p></li></ol><p>Bằng cách thực hiện các thực tiễn này, bạn có thể tạo ra một giải pháp Text-to-SQL không chỉ sử dụng toàn bộ tiềm năng của các agent AI mà còn duy trì tính bảo mật và tính toàn vẹn của các hệ thống dữ liệu của bạn.</p><h2 id=kết-luận><strong>Kết luận</strong></h2><p>Tóm lại, việc triển khai một giải pháp Text-to-SQL dạng agent (agentic text-to-SQL) có khả năng mở rộng bằng cách sử dụng các dịch vụ của AWS mang lại những lợi thế đáng kể cho khối lượng công việc cấp doanh nghiệp.</p><p>Bằng cách sử dụng tính năng khám phá sơ đồ dữ liệu tự động và xử lý lỗi mạnh mẽ, các tổ chức có thể quản lý hiệu quả các cơ sở dữ liệu phức tạp với vô số bảng và cột. Cách tiếp cận dựa trên agent này thúc đẩy việc tạo và tinh chỉnh truy vấn một cách động, dẫn đến tỷ lệ thành công cao hơn trong việc truy vấn dữ liệu.</p><p>Chúng tôi muốn mời bạn trải nghiệm giải pháp này ngay hôm nay! Hãy truy cập <a href=https://github.com/aws-samples/sample-Dynamic-Text-to-SQL-with-Amazon-Bedrock-Agent><strong>GitHub</strong></a> để tìm hiểu sâu hơn về chi tiết giải pháp và làm theo hướng dẫn triển khai để kiểm tra trong tài khoản AWS của bạn.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/3-blogstranslated/3.2-blog2/ title="Blog 2"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/3-blogstranslated/3.4-blog4/ title="Blog 4" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765289774></script><script src=../../../js/perfect-scrollbar.min.js?1765289774></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765289774></script><script src=../../../js/jquery.sticky.js?1765289774></script><script src=../../../js/featherlight.min.js?1765289774></script><script src=../../../js/highlight.pack.js?1765289774></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765289774></script><script src=../../../js/learn.js?1765289774></script><script src=../../../js/hugo-learn.js?1765289774></script><link href=../../../mermaid/mermaid.css?1765289774 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765289774></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>